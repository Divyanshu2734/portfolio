name: MY_portfolio CI-CD

on:
  push:
    branches: ["main"]

jobs:
  build-and-push:
     runs-on: ubuntu-latest

     steps:
       - name: Checkout code
         uses: actions/checkout@v4

       - name: login to docker hub
         uses: docker/login-action@v3
         with:
            username: ${{secrets.DOCKERHUB_USERNAME}}
            password: ${{secrets.DOCKERHUB_TOKEN}}
       - name: build docker images
         run: docker build -t ${{secrets.DOCKERHUB_USERNAME}}/myportfolio-cd:latest
       - name: push docker images
         run: docker push ${{secrets.DOCKERHUB_USERNAME}}/myportfolio-cd:latest
         
